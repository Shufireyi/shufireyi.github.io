(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{212:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("上一篇"),n("router-link",{attrs:{to:"/posts/2018/08/03/一件一件脱Vue工程-2-postcss/"}},[t._v("一件一件脱 Vue 工程(2)--postcss")]),t._v("简单介绍了一下，在 vue-cli 生成的 webpack 工程中，postcss 的默认配置。")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("今天，接着说一下 eslint")])]),t._v(" "),n("h3",{attrs:{id:"step1-eslint-是个啥？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step1-eslint-是个啥？"}},[t._v("#")]),t._v(" step1. eslint 是个啥？")]),t._v(" "),n("p",[t._v("我想大家都知道红宝书吧～ 我看的第一本 js 书籍了，eslint 就是红宝书的作者写的。\neslint 主要作用是约束代码风格。\n啥？ 风格？ 没错，你少一个空格，多一个回车，eslint 都给你报错！\n在同一个项目组，这还蛮重要的～来约束大家的代码。\n每一条规则都是可配置的，规则之多……没数过来。\n每条规则各自独立，可以开启或关闭，可以将结果设置成警告或者错误。")]),t._v(" "),n("h3",{attrs:{id:"step2-webpack-中的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#step2-webpack-中的使用"}},[t._v("#")]),t._v(" step2. webpack 中的使用")]),t._v(" "),n("p",[t._v("使用 "),n("code",[t._v("vue-cli")]),t._v(" 初始化项目的时候选择 "),n("code",[t._v("eslint")]),t._v(" , 选择 "),n("code",[t._v("standard")]),t._v(" 标准。")]),t._v(" "),n("p",[t._v("相关的内容如下：\n{% asset_img vue-lint.jpg %}")]),t._v(" "),n("p",[n("code",[t._v("package.json")]),t._v("中相关 eslint 部分：")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 一个对 Babel 解析器的包装，可以使用eslint规范代码")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"babel-eslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^8.2.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.15.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint 本尊")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-loader"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^1.7.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack loader")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 适用常规风格的 大部分的配置")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-config-standard"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^10.2.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用来检查 import/export 语法及路径")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-plugin-import"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.7.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 针对 nodejs 的一些lint规则")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-plugin-node"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^5.2.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 针对 promise 的规则")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-plugin-promise"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.4.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 标准的 eslint 规则")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-plugin-standard"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue 官方 eslint 插件")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-plugin-vue"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 用来格式化 eslint 报错信息")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint-friendly-formatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.0"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("code",[t._v(".eslintrc.js")]),t._v(" 部分")]),t._v(" "),n("blockquote",[n("p",[t._v("eslint 的配置部分还是比较繁杂的，这里介绍一下，"),n("code",[t._v("vue-cli")]),t._v(" 中的配置")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 默认情况下，ESLint 会在所有父级目录里寻找配置文件，一直到根目录。如果你想要你所有项目都遵循一个特定的约定时，这将会很有用，但有时候会导致意想不到的结果。为了将 ESLint 限制到一个特定的项目，在你项目根目录下的 package.json 文件或者 .eslintrc.* 文件里的 eslintConfig 字段下设置 "root": true。ESLint 一旦发现配置文件中有 "root": true，它就会停止在父级目录中寻找。')]),t._v("\n  root"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  parserOptions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析选项")]),t._v("\n    parser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-eslint'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用自己安装的 babel-eslint")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 环境配置")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用浏览器环境中的全局变量。")]),t._v("\n    browser"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 继承安装的基础规则")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/essential'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'standard'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 插件配置")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vue'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  rules"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 自定义规则 覆盖安装的规则")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// off 为关")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// warn 为 警告级别错误就触发")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// error 为 错误级别错误才处罚")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'generator-star-spacing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'no-debugger'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'production'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[n("code",[t._v(".eslintignore")]),t._v(" 部分")]),t._v(" "),n("blockquote",[n("p",[t._v("在这里面的文件会被 eslint 忽略")])]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("/build/\n/config/\n/dist/\n/*.js\n")])])]),n("p",[n("em",[t._v("占坑，接着会理一下"),n("code",[t._v("vue-cli 2.9.6")]),t._v("的 webpack 配置")])])])}),[],!1,null,null,null);s.default=e.exports}}]);