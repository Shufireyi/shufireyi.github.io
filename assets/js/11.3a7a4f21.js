(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{208:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"step1-babel-是个啥？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step1-babel-是个啥？"}},[s._v("#")]),s._v(" step1. babel 是个啥？")]),s._v(" "),a("p",[s._v("{% asset_img babel-site.jpg %}\n正如官网所说，babel 是一个 javascript 编译器。啥？！javascipt 还需要编译器？不是一个脚本吗，在浏览器可以直接运行的呀。\n话是这么说，但大家也肯定听说过什么 ES6，ES7，ES8 什么的。那么这些 JavaScript 新语法，浏览器还能运行吗？")]),s._v(" "),a("p",[s._v("呐～，现在知道 babel 是干啥的了吧。他就是一个转译器，主要将那些 js 的新的标准（但浏览器还不能去运行）翻译成浏览器可以运行的代码。")]),s._v(" "),a("h3",{attrs:{id:"step2-怎样用它！"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step2-怎样用它！"}},[s._v("#")]),s._v(" step2. 怎样用它！")]),s._v(" "),a("h4",{attrs:{id:"在命令行中使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在命令行中使用"}},[s._v("#")]),s._v(" 在命令行中使用")]),s._v(" "),a("p",[s._v("安装 cli")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --global babel-cli\n")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将 example_before 编译成 compiled_after")]),s._v("\nbabel example_before.js -o compiled_after.js\n")])])]),a("p",[s._v("像这样用，实话我用的不多，嘿嘿～\n有需求的话，自行戳官网！")]),s._v(" "),a("h4",{attrs:{id:"在工程中使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在工程中使用"}},[s._v("#")]),s._v(" 在工程中使用")]),s._v(" "),a("p",[s._v("为了切题，只解释一下 vue-cli 初始化后的 babel 的使用。\n下面就是用 "),a("code",[s._v("vue init webpack")]),s._v(" 得到的项目目录了，和 babel 相关的就 "),a("code",[s._v(".babelrc")]),s._v(" 了。\n{% asset_img vue-cli.jpg %}")]),s._v(" "),a("p",[s._v("它里面是这样色的～")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"modules"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否将 es6 模块语法转译")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置转译目标，使用率 >1% 的浏览器的最新两个版本。不要ie8以下～")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"browsers"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"> 1%"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 2 versions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not ie <= 8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stage-2"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"transform-vue-jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[s._v("以下部分是 "),a("code",[s._v("package.json")]),s._v(" 中和 babel 相关的部分。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// webpack 的 loader")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^7.1.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// babel 的主要东东")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-core"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果某些代码需要调用 Babel 的 API 进行转码，就要使用 babel-core 模块")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.3.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 转译器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-preset-stage-2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 转译器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-transform-runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.22.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一些 polyfill 和 打包优化")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// jsx相关 用不到jsx语法就可以忽略")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-syntax-jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^6.18.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-plugin-transform-vue-jsx"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.5.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 编译 JSX")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-helper-vue-jsx-merge-props"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.0.3"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 一个对 Babel 解析器的包装，使其能够与 ESLint 兼容。在 eslint 部分会再涉及")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"babel-eslint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^8.2.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])])]),a("p",[s._v("下面就结合上面两个文件，解释一下。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 中文翻译呢就是 “预先配置的东西”")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 中文翻译呢就是 “插件”")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("blockquote",[a("p",[a("code",[s._v("plugins")]),s._v(' 是转译插件，其功能单一。比如 "transform-es2015-arrow-functions" 只负责转译 '),a("code",[s._v("=>")]),s._v(' 函数。\n"transform-vue-jsx" 负责转译 '),a("code",[s._v("jsx")]),s._v(' 语法。\n"transform-runtime" 会自动提供部分 polyfill，并且优化打包代码'),a("a",{attrs:{href:"https://www.jianshu.com/p/7bc7b0fadfc2",target:"_blank",rel:"noopener noreferrer"}},[s._v("[详情请戳]"),a("OutboundLink")],1),s._v("。polyfill 和 runtime"),a("a",{attrs:{href:"https://segmentfault.com/q/1010000005596587?from=singlemessage&isappinstalled=1",target:"_blank",rel:"noopener noreferrer"}},[s._v("[对比请戳]"),a("OutboundLink")],1)])]),s._v(" "),a("blockquote",[a("p",[a("code",[s._v("presets")]),s._v(' 是转译器，它是一个集合，包含了很多转译插件。不需要手动写很多转译插件。\n"babel-preset-env" 就是一个很厉害的转译器。他可以针对不同平台，不同模块进行转译，说白了就像是按需转码的意思。'),a("a",{attrs:{href:"https://www.babeljs.cn/docs/plugins/preset-env/",target:"_blank",rel:"noopener noreferrer"}},[s._v("[官网介绍]"),a("OutboundLink")],1),s._v('\n"babel-preset-stage-2" 对 es7 的新语法已经有初步规范的语法进行转译。对于 stage-2 是啥～'),a("a",{attrs:{href:"https://www.babeljs.cn/docs/plugins/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网介绍"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("我先说的"),a("code",[s._v("plugins")]),s._v(" 再说的"),a("code",[s._v("presets")]),s._v("～其实，在 babel 工作的时候，也是先进行"),a("code",[s._v("plugins")]),s._v(",再进行"),a("code",[s._v("presets")]),s._v("操作。")]),s._v(" "),a("p",[s._v("不同的是"),a("code",[s._v("plugins")]),s._v("操作是从前往后，而"),a("code",[s._v("presets")]),s._v("操作是从后往前。")])])}),[],!1,null,null,null);t.default=e.exports}}]);